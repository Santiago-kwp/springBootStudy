import{_ as C,h as b,b as i,e as n,q as _,v as s,x as t,f as d,t as f,a as x,o as a,y as B}from"./index-CNvl0ag0.js";const E={class:"join"},V={class:"container"},k={class:"form-floating"},A={class:"form-floating"},U={key:0,class:"text-danger small mt-1"},z={class:"form-floating"},M={key:0,class:"text-danger small mt-1"},Z={class:"form-floating"},j={key:0,class:"text-danger small mt-1"},D={__name:"Join",setup(J){const c=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,o=b({form:{name:"",loginId:"",loginPw:"",loginPwConfirm:""},errors:{name:"",loginId:"",loginPw:"",loginPwConfirm:""}}),I=x(),g=()=>{var l;if((l=o.form.loginId)!=null&&l.trim()){if(!c.test(o.form.loginId))return o.errors.loginId="유효하지 않은 이메일 형식입니다.",!1}else return o.errors.loginId="이메일을 입력해주세요.",!1;return o.errors.loginId="",!0},m=()=>{var r,e;let l=!0;return(r=o.form.loginPw)!=null&&r.trim()?o.errors.loginPw="":(o.errors.loginPw="패스워드를 입력해주세요.",l=!1),(e=o.form.loginPwConfirm)!=null&&e.trim()?o.form.loginPw!==o.form.loginPwConfirm?(o.errors.loginPwConfirm="패스워드가 일치하지 않습니다.",l=!1):o.errors.loginPwConfirm="":(o.errors.loginPwConfirm="패스워드 확인을 입력해주세요.",l=!1),l&&!o.errors.loginPw&&!o.errors.loginPwConfirm},y=async()=>{var e,w,u,P,p;if(!((e=o.form.name)!=null&&e.trim())){window.alert("이름을 입력해주세요."),(w=document.getElementById("name"))==null||w.focus();return}if(!g()){window.alert(o.errors.loginId),(u=document.getElementById("loginId"))==null||u.focus();return}if(!m()){const v=o.errors.loginPw||o.errors.loginPwConfirm;window.alert(v),(P=document.getElementById(o.errors.loginPw?"loginPw":"loginPwConfirm"))==null||P.focus();return}const l={name:o.form.name,loginId:o.form.loginId,loginPw:o.form.loginPw},r=await B(l);r.status===200?(window.alert("회원가입을 완료했습니다."),await I.push("/")):r.status===409&&(window.alert("이미 사용 중인 이메일입니다. 다른 값을 입력해주세요."),(p=document.getElementById("loginId"))==null||p.focus())};return(l,r)=>(a(),i("div",E,[n("div",V,[n("form",{class:"py-5 d-flex flex-column gap-3",onSubmit:_(y,["prevent"])},[r[8]||(r[8]=n("h1",{class:"h5 mb-3"},"회원가입",-1)),n("div",k,[s(n("input",{type:"text",class:"form-control",id:"name",placeholder:"이름","onUpdate:modelValue":r[0]||(r[0]=e=>o.form.name=e)},null,512),[[t,o.form.name]]),r[4]||(r[4]=n("label",{for:"name"},"이름",-1))]),n("div",A,[s(n("input",{type:"email",class:"form-control",id:"loginId",placeholder:"이메일","onUpdate:modelValue":r[1]||(r[1]=e=>o.form.loginId=e),onBlur:g},null,544),[[t,o.form.loginId]]),r[5]||(r[5]=n("label",{for:"loginId"},"이메일(로그인 아이디)",-1)),o.errors.loginId?(a(),i("div",U,f(o.errors.loginId),1)):d("",!0)]),n("div",z,[s(n("input",{type:"password",class:"form-control",id:"loginPw",placeholder:"패스워드","onUpdate:modelValue":r[2]||(r[2]=e=>o.form.loginPw=e),onBlur:m},null,544),[[t,o.form.loginPw]]),r[6]||(r[6]=n("label",{for:"loginPw"},"패스워드",-1)),o.errors.loginPw?(a(),i("div",M,f(o.errors.loginPw),1)):d("",!0)]),n("div",Z,[s(n("input",{type:"password",class:"form-control",id:"loginPwConfirm",placeholder:"패스워드 확인","onUpdate:modelValue":r[3]||(r[3]=e=>o.form.loginPwConfirm=e),onBlur:m},null,544),[[t,o.form.loginPwConfirm]]),r[7]||(r[7]=n("label",{for:"loginPwConfirm"},"패스워드 확인",-1)),o.errors.loginPwConfirm?(a(),i("div",j,f(o.errors.loginPwConfirm),1)):d("",!0)]),r[9]||(r[9]=n("button",{type:"submit",class:"w-100 h6 btn py-3 btn-primary"},"회원가입",-1))],32)])]))}},R=C(D,[["__scopeId","data-v-03ce3a22"]]);export{R as default};
